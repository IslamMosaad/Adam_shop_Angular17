
<div class="container-fluid">
  <div class="row">
<div role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">



  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">All Categories</h1>
  </div>

  <form class="w-50 mx-auto my-5" [formGroup]="AddCategoryForm" (submit)="onSubmit()">

    <div class="form-group">
      <label for="email">Category Name</label>
      <input type="text" class="form-control" id="CategoryName" name="CategoryName" formControlName="CategoryName" required maxlength="50">
      @if (getCategoryName.touched) {
        <span *ngIf="getCategoryName.hasError('required')" class="form-text text-danger "> this field is required</span>
        <span *ngIf="getCategoryName.hasError('minlength')" class="form-text text-danger "> the field should be valid email</span>
      }
  </div>
    <button type="submit"  [disabled]="!AddCategoryForm.valid" class="btn btn-primary">Save</button>
  </form>




  <h4>Edit Categories</h4>


<div class="table-responsive">
<table class="table table-striped table-sm">
<thead>
  <tr>
    <th>#</th>
    <th>Name</th>
    <th>edit</th>
    <th>delete</th>
  </tr>
</thead>
<tbody>
  @for(category of categories; track category.id){
  <tr>
    <td #idRef >{{category.id}}</td>
    <td #titleRef>{{category.title}}</td>
    <td (click)="editCategory(idRef,titleRef)"><i class="bi bi-pencil-square text-warning"></i></td>
    <td (click)="deleteCategory(idRef)"><i class="bi bi-trash3-fill text-danger"></i></td>
  </tr>
  }
</tbody>
</table>
</div>

</div>
</div>
</div>
